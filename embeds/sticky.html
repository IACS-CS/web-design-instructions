<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <h2>Sticky Div</h2>
    <p>
      Lorem Ipsum here is some example text on my web page pirates say "arrrr"
      kittens say "meow" isn't life interesting? I think life is interesting.
      Why are you reading my example text it is not actually relevant to the
      content of this page. Really this is just filler. Have you heard of Lorem
      Ipsum, by the way, it is the classic filler.
    </p>
  </body>
  <script>
    let stickyDiv = document.createElement("div");
    stickyDiv.innerText = "Click to move!";
    stickyDiv.style.position = "fixed";
    stickyDiv.style.backgroundColor = "black";
    stickyDiv.style.padding = "3em";
    stickyDiv.style.color = "yellow";

    function startSticking(event) {
      event.target.innerText = "I'll stick to the mouse until you click again!";
      event.target.addEventListener("mousemove", stickToMouse);
      event.target.removeEventListener("click", startSticking);
      event.target.addEventListener("click", finishSticking);
    }

    function finishSticking(event) {
      event.target.innerText = "Click to move me!";
      event.target.removeEventListener("mousemove", stickToMouse);
      event.target.removeEventListener("click", finishSticking);
      event.target.addEventListener("click", startSticking);
    }

    function stickToMouse(event) {
      console.log("mousemove", event);
      event.target.style.top = `${event.clientY - 30}px`;
      event.target.style.left = `${event.clientX - 100}px`;
    }

    stickyDiv.addEventListener("click", startSticking);

    document.body.appendChild(stickyDiv);
  </script>
</html>
